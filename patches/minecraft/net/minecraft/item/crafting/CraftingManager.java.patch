--- ../src-base/minecraft/net/minecraft/item/crafting/CraftingManager.java
+++ ../src-work/minecraft/net/minecraft/item/crafting/CraftingManager.java
@@ -20,198 +20,201 @@
 import net.minecraft.item.ItemStack;
 import net.minecraft.util.NonNullList;
 import net.minecraft.world.World;
+import org.bukkit.craftbukkit.event.CraftEventFactory;
 
 public class CraftingManager
 {
-    private static final CraftingManager field_77598_a = new CraftingManager();
-    public final List<IRecipe> field_77597_b = Lists.<IRecipe>newArrayList();
-
-    public static CraftingManager func_77594_a()
+    private static final CraftingManager INSTANCE = new CraftingManager();
+    public final List<IRecipe> recipes = Lists.<IRecipe>newArrayList();
+    // CraftBukkit start
+    public net.minecraft.item.crafting.IRecipe lastRecipe;
+    public org.bukkit.inventory.InventoryView lastCraftView;
+    // CraftBukkit end
+    public static CraftingManager getInstance()
     {
-        return field_77598_a;
+        return INSTANCE;
     }
-
     public CraftingManager()
     {
-        (new RecipesTools()).func_77586_a(this);
-        (new RecipesWeapons()).func_77583_a(this);
-        (new RecipesIngots()).func_77590_a(this);
-        (new RecipesFood()).func_77608_a(this);
-        (new RecipesCrafting()).func_77589_a(this);
-        (new RecipesArmor()).func_77609_a(this);
-        (new RecipesDyes()).func_77607_a(this);
-        this.field_77597_b.add(new RecipesArmorDyes());
-        this.field_77597_b.add(new RecipeBookCloning());
-        this.field_77597_b.add(new RecipesMapCloning());
-        this.field_77597_b.add(new RecipesMapExtending());
-        this.field_77597_b.add(new RecipeFireworks());
-        this.field_77597_b.add(new RecipeRepairItem());
-        this.field_77597_b.add(new RecipeTippedArrow());
-        (new RecipesBanners()).func_179534_a(this);
-        (new ShieldRecipes()).func_185256_a(this);
-        (new ShulkerBoxRecipes()).func_190935_a(this);
-        this.func_92103_a(new ItemStack(Items.field_151121_aF, 3), new Object[] {"###", '#', Items.field_151120_aE});
-        this.func_77596_b(new ItemStack(Items.field_151122_aG, 1), new Object[] {Items.field_151121_aF, Items.field_151121_aF, Items.field_151121_aF, Items.field_151116_aA});
-        this.func_77596_b(new ItemStack(Items.field_151099_bA, 1), new Object[] {Items.field_151122_aG, new ItemStack(Items.field_151100_aR, 1, EnumDyeColor.BLACK.func_176767_b()), Items.field_151008_G});
-        this.func_92103_a(new ItemStack(Blocks.field_180407_aO, 3), new Object[] {"W#W", "W#W", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_180404_aQ, 3), new Object[] {"W#W", "W#W", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.BIRCH.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_180408_aP, 3), new Object[] {"W#W", "W#W", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.SPRUCE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_180403_aR, 3), new Object[] {"W#W", "W#W", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.JUNGLE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_180405_aT, 3), new Object[] {"W#W", "W#W", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, 4 + BlockPlanks.EnumType.ACACIA.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Blocks.field_180406_aS, 3), new Object[] {"W#W", "W#W", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, 4 + BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Blocks.field_150463_bK, 6, BlockWall.EnumType.NORMAL.func_176657_a()), new Object[] {"###", "###", '#', Blocks.field_150347_e});
-        this.func_92103_a(new ItemStack(Blocks.field_150463_bK, 6, BlockWall.EnumType.MOSSY.func_176657_a()), new Object[] {"###", "###", '#', Blocks.field_150341_Y});
-        this.func_92103_a(new ItemStack(Blocks.field_150386_bk, 6), new Object[] {"###", "###", '#', Blocks.field_150385_bj});
-        this.func_92103_a(new ItemStack(Blocks.field_180390_bo, 1), new Object[] {"#W#", "#W#", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_180392_bq, 1), new Object[] {"#W#", "#W#", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.BIRCH.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_180391_bp, 1), new Object[] {"#W#", "#W#", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.SPRUCE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_180386_br, 1), new Object[] {"#W#", "#W#", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.JUNGLE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_180387_bt, 1), new Object[] {"#W#", "#W#", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, 4 + BlockPlanks.EnumType.ACACIA.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Blocks.field_180385_bs, 1), new Object[] {"#W#", "#W#", '#', Items.field_151055_y, 'W', new ItemStack(Blocks.field_150344_f, 1, 4 + BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Blocks.field_150421_aI, 1), new Object[] {"###", "#X#", "###", '#', Blocks.field_150344_f, 'X', Items.field_151045_i});
-        this.func_92103_a(new ItemStack(Items.field_151058_ca, 2), new Object[] {"~~ ", "~O ", "  ~", '~', Items.field_151007_F, 'O', Items.field_151123_aH});
-        this.func_92103_a(new ItemStack(Blocks.field_150323_B, 1), new Object[] {"###", "#X#", "###", '#', Blocks.field_150344_f, 'X', Items.field_151137_ax});
-        this.func_92103_a(new ItemStack(Blocks.field_150342_X, 1), new Object[] {"###", "XXX", "###", '#', Blocks.field_150344_f, 'X', Items.field_151122_aG});
-        this.func_92103_a(new ItemStack(Blocks.field_150433_aE, 1), new Object[] {"##", "##", '#', Items.field_151126_ay});
-        this.func_92103_a(new ItemStack(Blocks.field_150431_aC, 6), new Object[] {"###", '#', Blocks.field_150433_aE});
-        this.func_92103_a(new ItemStack(Blocks.field_150435_aG, 1), new Object[] {"##", "##", '#', Items.field_151119_aD});
-        this.func_92103_a(new ItemStack(Blocks.field_150336_V, 1), new Object[] {"##", "##", '#', Items.field_151118_aC});
-        this.func_92103_a(new ItemStack(Blocks.field_150426_aN, 1), new Object[] {"##", "##", '#', Items.field_151114_aO});
-        this.func_92103_a(new ItemStack(Blocks.field_150371_ca, 1), new Object[] {"##", "##", '#', Items.field_151128_bU});
-        this.func_92103_a(new ItemStack(Blocks.field_150325_L, 1), new Object[] {"##", "##", '#', Items.field_151007_F});
-        this.func_92103_a(new ItemStack(Blocks.field_150335_W, 1), new Object[] {"X#X", "#X#", "X#X", 'X', Items.field_151016_H, '#', Blocks.field_150354_m});
-        this.func_92103_a(new ItemStack(Blocks.field_150333_U, 6, BlockStoneSlab.EnumType.COBBLESTONE.func_176624_a()), new Object[] {"###", '#', Blocks.field_150347_e});
-        this.func_92103_a(new ItemStack(Blocks.field_150333_U, 6, BlockStoneSlab.EnumType.STONE.func_176624_a()), new Object[] {"###", '#', new ItemStack(Blocks.field_150348_b, 1, BlockStone.EnumType.STONE.func_176642_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150333_U, 6, BlockStoneSlab.EnumType.SAND.func_176624_a()), new Object[] {"###", '#', Blocks.field_150322_A});
-        this.func_92103_a(new ItemStack(Blocks.field_150333_U, 6, BlockStoneSlab.EnumType.BRICK.func_176624_a()), new Object[] {"###", '#', Blocks.field_150336_V});
-        this.func_92103_a(new ItemStack(Blocks.field_150333_U, 6, BlockStoneSlab.EnumType.SMOOTHBRICK.func_176624_a()), new Object[] {"###", '#', Blocks.field_150417_aV});
-        this.func_92103_a(new ItemStack(Blocks.field_150333_U, 6, BlockStoneSlab.EnumType.NETHERBRICK.func_176624_a()), new Object[] {"###", '#', Blocks.field_150385_bj});
-        this.func_92103_a(new ItemStack(Blocks.field_150333_U, 6, BlockStoneSlab.EnumType.QUARTZ.func_176624_a()), new Object[] {"###", '#', Blocks.field_150371_ca});
-        this.func_92103_a(new ItemStack(Blocks.field_180389_cP, 6, BlockStoneSlabNew.EnumType.RED_SANDSTONE.func_176915_a()), new Object[] {"###", '#', Blocks.field_180395_cM});
-        this.func_92103_a(new ItemStack(Blocks.field_185771_cX, 6, 0), new Object[] {"###", '#', Blocks.field_185767_cT});
-        this.func_92103_a(new ItemStack(Blocks.field_150376_bx, 6, 0), new Object[] {"###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150376_bx, 6, BlockPlanks.EnumType.BIRCH.func_176839_a()), new Object[] {"###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.BIRCH.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150376_bx, 6, BlockPlanks.EnumType.SPRUCE.func_176839_a()), new Object[] {"###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.SPRUCE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150376_bx, 6, BlockPlanks.EnumType.JUNGLE.func_176839_a()), new Object[] {"###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.JUNGLE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150376_bx, 6, 4 + BlockPlanks.EnumType.ACACIA.func_176839_a() - 4), new Object[] {"###", '#', new ItemStack(Blocks.field_150344_f, 1, 4 + BlockPlanks.EnumType.ACACIA.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Blocks.field_150376_bx, 6, 4 + BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4), new Object[] {"###", '#', new ItemStack(Blocks.field_150344_f, 1, 4 + BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Blocks.field_150468_ap, 3), new Object[] {"# #", "###", "# #", '#', Items.field_151055_y});
-        this.func_92103_a(new ItemStack(Items.field_179570_aq, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_179569_ar, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.SPRUCE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_179568_as, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.BIRCH.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_179567_at, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.JUNGLE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_179572_au, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.ACACIA.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_179571_av, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.DARK_OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150415_aT, 2), new Object[] {"###", "###", '#', Blocks.field_150344_f});
-        this.func_92103_a(new ItemStack(Items.field_151139_aw, 3), new Object[] {"##", "##", "##", '#', Items.field_151042_j});
-        this.func_92103_a(new ItemStack(Blocks.field_180400_cw, 1), new Object[] {"##", "##", '#', Items.field_151042_j});
-        this.func_92103_a(new ItemStack(Items.field_151155_ap, 3), new Object[] {"###", "###", " X ", '#', Blocks.field_150344_f, 'X', Items.field_151055_y});
-        this.func_92103_a(new ItemStack(Items.field_151105_aU, 1), new Object[] {"AAA", "BEB", "CCC", 'A', Items.field_151117_aB, 'B', Items.field_151102_aT, 'C', Items.field_151015_O, 'E', Items.field_151110_aK});
-        this.func_92103_a(new ItemStack(Items.field_151102_aT, 1), new Object[] {"#", '#', Items.field_151120_aE});
-        this.func_92103_a(new ItemStack(Blocks.field_150344_f, 4, BlockPlanks.EnumType.OAK.func_176839_a()), new Object[] {"#", '#', new ItemStack(Blocks.field_150364_r, 1, BlockPlanks.EnumType.OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150344_f, 4, BlockPlanks.EnumType.SPRUCE.func_176839_a()), new Object[] {"#", '#', new ItemStack(Blocks.field_150364_r, 1, BlockPlanks.EnumType.SPRUCE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150344_f, 4, BlockPlanks.EnumType.BIRCH.func_176839_a()), new Object[] {"#", '#', new ItemStack(Blocks.field_150364_r, 1, BlockPlanks.EnumType.BIRCH.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150344_f, 4, BlockPlanks.EnumType.JUNGLE.func_176839_a()), new Object[] {"#", '#', new ItemStack(Blocks.field_150364_r, 1, BlockPlanks.EnumType.JUNGLE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150344_f, 4, 4 + BlockPlanks.EnumType.ACACIA.func_176839_a() - 4), new Object[] {"#", '#', new ItemStack(Blocks.field_150363_s, 1, BlockPlanks.EnumType.ACACIA.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Blocks.field_150344_f, 4, 4 + BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4), new Object[] {"#", '#', new ItemStack(Blocks.field_150363_s, 1, BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Items.field_151055_y, 4), new Object[] {"#", "#", '#', Blocks.field_150344_f});
-        this.func_92103_a(new ItemStack(Blocks.field_150478_aa, 4), new Object[] {"X", "#", 'X', Items.field_151044_h, '#', Items.field_151055_y});
-        this.func_92103_a(new ItemStack(Blocks.field_150478_aa, 4), new Object[] {"X", "#", 'X', new ItemStack(Items.field_151044_h, 1, 1), '#', Items.field_151055_y});
-        this.func_92103_a(new ItemStack(Items.field_151054_z, 4), new Object[] {"# #", " # ", '#', Blocks.field_150344_f});
-        this.func_92103_a(new ItemStack(Items.field_151069_bo, 3), new Object[] {"# #", " # ", '#', Blocks.field_150359_w});
-        this.func_92103_a(new ItemStack(Blocks.field_150448_aq, 16), new Object[] {"X X", "X#X", "X X", 'X', Items.field_151042_j, '#', Items.field_151055_y});
-        this.func_92103_a(new ItemStack(Blocks.field_150318_D, 6), new Object[] {"X X", "X#X", "XRX", 'X', Items.field_151043_k, 'R', Items.field_151137_ax, '#', Items.field_151055_y});
-        this.func_92103_a(new ItemStack(Blocks.field_150408_cc, 6), new Object[] {"XSX", "X#X", "XSX", 'X', Items.field_151042_j, '#', Blocks.field_150429_aA, 'S', Items.field_151055_y});
-        this.func_92103_a(new ItemStack(Blocks.field_150319_E, 6), new Object[] {"X X", "X#X", "XRX", 'X', Items.field_151042_j, 'R', Items.field_151137_ax, '#', Blocks.field_150456_au});
-        this.func_92103_a(new ItemStack(Items.field_151143_au, 1), new Object[] {"# #", "###", '#', Items.field_151042_j});
-        this.func_92103_a(new ItemStack(Items.field_151066_bu, 1), new Object[] {"# #", "# #", "###", '#', Items.field_151042_j});
-        this.func_92103_a(new ItemStack(Items.field_151067_bt, 1), new Object[] {" B ", "###", '#', Blocks.field_150347_e, 'B', Items.field_151072_bj});
-        this.func_92103_a(new ItemStack(Blocks.field_150428_aP, 1), new Object[] {"A", "B", 'A', Blocks.field_150423_aK, 'B', Blocks.field_150478_aa});
-        this.func_92103_a(new ItemStack(Items.field_151108_aI, 1), new Object[] {"A", "B", 'A', Blocks.field_150486_ae, 'B', Items.field_151143_au});
-        this.func_92103_a(new ItemStack(Items.field_151109_aJ, 1), new Object[] {"A", "B", 'A', Blocks.field_150460_al, 'B', Items.field_151143_au});
-        this.func_92103_a(new ItemStack(Items.field_151142_bV, 1), new Object[] {"A", "B", 'A', Blocks.field_150335_W, 'B', Items.field_151143_au});
-        this.func_92103_a(new ItemStack(Items.field_151140_bW, 1), new Object[] {"A", "B", 'A', Blocks.field_150438_bZ, 'B', Items.field_151143_au});
-        this.func_92103_a(new ItemStack(Items.field_151124_az, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_185150_aH, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.SPRUCE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_185151_aI, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.BIRCH.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_185152_aJ, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.JUNGLE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_185153_aK, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.ACACIA.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_185154_aL, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.DARK_OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Items.field_151133_ar, 1), new Object[] {"# #", " # ", '#', Items.field_151042_j});
-        this.func_92103_a(new ItemStack(Items.field_151162_bE, 1), new Object[] {"# #", " # ", '#', Items.field_151118_aC});
-        this.func_77596_b(new ItemStack(Items.field_151033_d, 1), new Object[] {new ItemStack(Items.field_151042_j, 1), new ItemStack(Items.field_151145_ak, 1)});
-        this.func_92103_a(new ItemStack(Items.field_151025_P, 1), new Object[] {"###", '#', Items.field_151015_O});
-        this.func_92103_a(new ItemStack(Blocks.field_150476_ad, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.OAK.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150487_bG, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.BIRCH.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150485_bF, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.SPRUCE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150481_bH, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.field_150344_f, 1, BlockPlanks.EnumType.JUNGLE.func_176839_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150400_ck, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.field_150344_f, 1, 4 + BlockPlanks.EnumType.ACACIA.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Blocks.field_150401_cl, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.field_150344_f, 1, 4 + BlockPlanks.EnumType.DARK_OAK.func_176839_a() - 4)});
-        this.func_92103_a(new ItemStack(Items.field_151112_aM, 1), new Object[] {"  #", " #X", "# X", '#', Items.field_151055_y, 'X', Items.field_151007_F});
-        this.func_92103_a(new ItemStack(Items.field_151146_bM, 1), new Object[] {"# ", " X", '#', Items.field_151112_aM, 'X', Items.field_151172_bF});
-        this.func_92103_a(new ItemStack(Blocks.field_150446_ar, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.field_150347_e});
-        this.func_92103_a(new ItemStack(Blocks.field_150389_bf, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.field_150336_V});
-        this.func_92103_a(new ItemStack(Blocks.field_150390_bg, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.field_150417_aV});
-        this.func_92103_a(new ItemStack(Blocks.field_150387_bl, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.field_150385_bj});
-        this.func_92103_a(new ItemStack(Blocks.field_150372_bz, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.field_150322_A});
-        this.func_92103_a(new ItemStack(Blocks.field_180396_cN, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.field_180395_cM});
-        this.func_92103_a(new ItemStack(Blocks.field_150370_cb, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.field_150371_ca});
-        this.func_92103_a(new ItemStack(Items.field_151159_an, 1), new Object[] {"###", "#X#", "###", '#', Items.field_151055_y, 'X', Blocks.field_150325_L});
-        this.func_92103_a(new ItemStack(Items.field_151160_bD, 1), new Object[] {"###", "#X#", "###", '#', Items.field_151055_y, 'X', Items.field_151116_aA});
-        this.func_92103_a(new ItemStack(Items.field_151153_ao), new Object[] {"###", "#X#", "###", '#', Items.field_151043_k, 'X', Items.field_151034_e});
-        this.func_92103_a(new ItemStack(Items.field_151150_bK), new Object[] {"###", "#X#", "###", '#', Items.field_151074_bl, 'X', Items.field_151172_bF});
-        this.func_92103_a(new ItemStack(Items.field_151060_bw, 1), new Object[] {"###", "#X#", "###", '#', Items.field_151074_bl, 'X', Items.field_151127_ba});
-        this.func_92103_a(new ItemStack(Blocks.field_150442_at, 1), new Object[] {"X", "#", '#', Blocks.field_150347_e, 'X', Items.field_151055_y});
-        this.func_92103_a(new ItemStack(Blocks.field_150479_bC, 2), new Object[] {"I", "S", "#", '#', Blocks.field_150344_f, 'S', Items.field_151055_y, 'I', Items.field_151042_j});
-        this.func_92103_a(new ItemStack(Blocks.field_150429_aA, 1), new Object[] {"X", "#", '#', Items.field_151055_y, 'X', Items.field_151137_ax});
-        this.func_92103_a(new ItemStack(Items.field_151107_aW, 1), new Object[] {"#X#", "III", '#', Blocks.field_150429_aA, 'X', Items.field_151137_ax, 'I', new ItemStack(Blocks.field_150348_b, 1, BlockStone.EnumType.STONE.func_176642_a())});
-        this.func_92103_a(new ItemStack(Items.field_151132_bS, 1), new Object[] {" # ", "#X#", "III", '#', Blocks.field_150429_aA, 'X', Items.field_151128_bU, 'I', new ItemStack(Blocks.field_150348_b, 1, BlockStone.EnumType.STONE.func_176642_a())});
-        this.func_92103_a(new ItemStack(Items.field_151113_aN, 1), new Object[] {" # ", "#X#", " # ", '#', Items.field_151043_k, 'X', Items.field_151137_ax});
-        this.func_92103_a(new ItemStack(Items.field_151111_aL, 1), new Object[] {" # ", "#X#", " # ", '#', Items.field_151042_j, 'X', Items.field_151137_ax});
-        this.func_92103_a(new ItemStack(Items.field_151148_bJ, 1), new Object[] {"###", "#X#", "###", '#', Items.field_151121_aF, 'X', Items.field_151111_aL});
-        this.func_92103_a(new ItemStack(Blocks.field_150430_aB, 1), new Object[] {"#", '#', new ItemStack(Blocks.field_150348_b, 1, BlockStone.EnumType.STONE.func_176642_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150471_bO, 1), new Object[] {"#", '#', Blocks.field_150344_f});
-        this.func_92103_a(new ItemStack(Blocks.field_150456_au, 1), new Object[] {"##", '#', new ItemStack(Blocks.field_150348_b, 1, BlockStone.EnumType.STONE.func_176642_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_150452_aw, 1), new Object[] {"##", '#', Blocks.field_150344_f});
-        this.func_92103_a(new ItemStack(Blocks.field_150443_bT, 1), new Object[] {"##", '#', Items.field_151042_j});
-        this.func_92103_a(new ItemStack(Blocks.field_150445_bS, 1), new Object[] {"##", '#', Items.field_151043_k});
-        this.func_92103_a(new ItemStack(Blocks.field_150367_z, 1), new Object[] {"###", "#X#", "#R#", '#', Blocks.field_150347_e, 'X', Items.field_151031_f, 'R', Items.field_151137_ax});
-        this.func_92103_a(new ItemStack(Blocks.field_150409_cd, 1), new Object[] {"###", "# #", "#R#", '#', Blocks.field_150347_e, 'R', Items.field_151137_ax});
-        this.func_92103_a(new ItemStack(Blocks.field_190976_dk, 1), new Object[] {"###", "RRQ", "###", '#', Blocks.field_150347_e, 'R', Items.field_151137_ax, 'Q', Items.field_151128_bU});
-        this.func_92103_a(new ItemStack(Blocks.field_150331_J, 1), new Object[] {"TTT", "#X#", "#R#", '#', Blocks.field_150347_e, 'X', Items.field_151042_j, 'R', Items.field_151137_ax, 'T', Blocks.field_150344_f});
-        this.func_92103_a(new ItemStack(Blocks.field_150320_F, 1), new Object[] {"S", "P", 'S', Items.field_151123_aH, 'P', Blocks.field_150331_J});
-        this.func_92103_a(new ItemStack(Items.field_151104_aV, 1), new Object[] {"###", "XXX", '#', Blocks.field_150325_L, 'X', Blocks.field_150344_f});
-        this.func_92103_a(new ItemStack(Blocks.field_150381_bn, 1), new Object[] {" B ", "D#D", "###", '#', Blocks.field_150343_Z, 'B', Items.field_151122_aG, 'D', Items.field_151045_i});
-        this.func_92103_a(new ItemStack(Blocks.field_150467_bQ, 1), new Object[] {"III", " i ", "iii", 'I', Blocks.field_150339_S, 'i', Items.field_151042_j});
-        this.func_92103_a(new ItemStack(Items.field_151116_aA), new Object[] {"##", "##", '#', Items.field_179555_bs});
-        this.func_77596_b(new ItemStack(Items.field_151061_bv, 1), new Object[] {Items.field_151079_bi, Items.field_151065_br});
-        this.func_77596_b(new ItemStack(Items.field_151059_bz, 3), new Object[] {Items.field_151016_H, Items.field_151065_br, Items.field_151044_h});
-        this.func_77596_b(new ItemStack(Items.field_151059_bz, 3), new Object[] {Items.field_151016_H, Items.field_151065_br, new ItemStack(Items.field_151044_h, 1, 1)});
-        this.func_92103_a(new ItemStack(Blocks.field_150453_bW), new Object[] {"GGG", "QQQ", "WWW", 'G', Blocks.field_150359_w, 'Q', Items.field_151128_bU, 'W', Blocks.field_150376_bx});
-        this.func_92103_a(new ItemStack(Items.field_185158_cP), new Object[] {"GGG", "GEG", "GTG", 'G', Blocks.field_150359_w, 'E', Items.field_151061_bv, 'T', Items.field_151073_bk});
-        this.func_92103_a(new ItemStack(Blocks.field_150438_bZ), new Object[] {"I I", "ICI", " I ", 'I', Items.field_151042_j, 'C', Blocks.field_150486_ae});
-        this.func_92103_a(new ItemStack(Items.field_179565_cj, 1), new Object[] {"///", " / ", "/_/", '/', Items.field_151055_y, '_', new ItemStack(Blocks.field_150333_U, 1, BlockStoneSlab.EnumType.STONE.func_176624_a())});
-        this.func_92103_a(new ItemStack(Blocks.field_185764_cQ, 4), new Object[] {"/", "#", '/', Items.field_151072_bj, '#', Items.field_185162_cT});
-        this.func_92103_a(new ItemStack(Blocks.field_189880_di, 1), new Object[] {"XXX", "XXX", "XXX", 'X', new ItemStack(Items.field_151100_aR, 1, EnumDyeColor.WHITE.func_176767_b())});
-        Collections.sort(this.field_77597_b, new Comparator<IRecipe>()
+        (new RecipesTools()).addRecipes(this);
+        (new RecipesWeapons()).addRecipes(this);
+        (new RecipesIngots()).addRecipes(this);
+        (new RecipesFood()).addRecipes(this);
+        (new RecipesCrafting()).addRecipes(this);
+        (new RecipesArmor()).addRecipes(this);
+        (new RecipesDyes()).addRecipes(this);
+        this.recipes.add(new RecipesArmorDyes());
+        this.recipes.add(new RecipeBookCloning());
+        this.recipes.add(new RecipesMapCloning());
+        this.recipes.add(new RecipesMapExtending());
+        this.recipes.add(new RecipeFireworks());
+        this.recipes.add(new RecipeRepairItem());
+        this.recipes.add(new RecipeTippedArrow());
+        (new RecipesBanners()).addRecipes(this);
+        (new ShieldRecipes()).addRecipes(this);
+        (new ShulkerBoxRecipes()).addRecipes(this);
+        this.addRecipe(new ItemStack(Items.PAPER, 3), new Object[] {"###", '#', Items.REEDS});
+        this.addShapelessRecipe(new ItemStack(Items.BOOK, 1), new Object[] {Items.PAPER, Items.PAPER, Items.PAPER, Items.LEATHER});
+        this.addShapelessRecipe(new ItemStack(Items.WRITABLE_BOOK, 1), new Object[] {Items.BOOK, new ItemStack(Items.DYE, 1, EnumDyeColor.BLACK.getDyeDamage()), Items.FEATHER});
+        this.addRecipe(new ItemStack(Blocks.OAK_FENCE, 3), new Object[] {"W#W", "W#W", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.BIRCH_FENCE, 3), new Object[] {"W#W", "W#W", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.BIRCH.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.SPRUCE_FENCE, 3), new Object[] {"W#W", "W#W", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.SPRUCE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.JUNGLE_FENCE, 3), new Object[] {"W#W", "W#W", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.JUNGLE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.ACACIA_FENCE, 3), new Object[] {"W#W", "W#W", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, 4 + BlockPlanks.EnumType.ACACIA.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Blocks.DARK_OAK_FENCE, 3), new Object[] {"W#W", "W#W", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, 4 + BlockPlanks.EnumType.DARK_OAK.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Blocks.COBBLESTONE_WALL, 6, BlockWall.EnumType.NORMAL.getMetadata()), new Object[] {"###", "###", '#', Blocks.COBBLESTONE});
+        this.addRecipe(new ItemStack(Blocks.COBBLESTONE_WALL, 6, BlockWall.EnumType.MOSSY.getMetadata()), new Object[] {"###", "###", '#', Blocks.MOSSY_COBBLESTONE});
+        this.addRecipe(new ItemStack(Blocks.NETHER_BRICK_FENCE, 6), new Object[] {"###", "###", '#', Blocks.NETHER_BRICK});
+        this.addRecipe(new ItemStack(Blocks.OAK_FENCE_GATE, 1), new Object[] {"#W#", "#W#", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.BIRCH_FENCE_GATE, 1), new Object[] {"#W#", "#W#", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.BIRCH.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.SPRUCE_FENCE_GATE, 1), new Object[] {"#W#", "#W#", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.SPRUCE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.JUNGLE_FENCE_GATE, 1), new Object[] {"#W#", "#W#", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.JUNGLE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.ACACIA_FENCE_GATE, 1), new Object[] {"#W#", "#W#", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, 4 + BlockPlanks.EnumType.ACACIA.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Blocks.DARK_OAK_FENCE_GATE, 1), new Object[] {"#W#", "#W#", '#', Items.STICK, 'W', new ItemStack(Blocks.PLANKS, 1, 4 + BlockPlanks.EnumType.DARK_OAK.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Blocks.JUKEBOX, 1), new Object[] {"###", "#X#", "###", '#', Blocks.PLANKS, 'X', Items.DIAMOND});
+        this.addRecipe(new ItemStack(Items.LEAD, 2), new Object[] {"~~ ", "~O ", "  ~", '~', Items.STRING, 'O', Items.SLIME_BALL});
+        this.addRecipe(new ItemStack(Blocks.NOTEBLOCK, 1), new Object[] {"###", "#X#", "###", '#', Blocks.PLANKS, 'X', Items.REDSTONE});
+        this.addRecipe(new ItemStack(Blocks.BOOKSHELF, 1), new Object[] {"###", "XXX", "###", '#', Blocks.PLANKS, 'X', Items.BOOK});
+        this.addRecipe(new ItemStack(Blocks.SNOW, 1), new Object[] {"##", "##", '#', Items.SNOWBALL});
+        this.addRecipe(new ItemStack(Blocks.SNOW_LAYER, 6), new Object[] {"###", '#', Blocks.SNOW});
+        this.addRecipe(new ItemStack(Blocks.CLAY, 1), new Object[] {"##", "##", '#', Items.CLAY_BALL});
+        this.addRecipe(new ItemStack(Blocks.BRICK_BLOCK, 1), new Object[] {"##", "##", '#', Items.BRICK});
+        this.addRecipe(new ItemStack(Blocks.GLOWSTONE, 1), new Object[] {"##", "##", '#', Items.GLOWSTONE_DUST});
+        this.addRecipe(new ItemStack(Blocks.QUARTZ_BLOCK, 1), new Object[] {"##", "##", '#', Items.QUARTZ});
+        this.addRecipe(new ItemStack(Blocks.WOOL, 1), new Object[] {"##", "##", '#', Items.STRING});
+        this.addRecipe(new ItemStack(Blocks.TNT, 1), new Object[] {"X#X", "#X#", "X#X", 'X', Items.GUNPOWDER, '#', Blocks.SAND});
+        this.addRecipe(new ItemStack(Blocks.STONE_SLAB, 6, BlockStoneSlab.EnumType.COBBLESTONE.getMetadata()), new Object[] {"###", '#', Blocks.COBBLESTONE});
+        this.addRecipe(new ItemStack(Blocks.STONE_SLAB, 6, BlockStoneSlab.EnumType.STONE.getMetadata()), new Object[] {"###", '#', new ItemStack(Blocks.STONE, 1, BlockStone.EnumType.STONE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.STONE_SLAB, 6, BlockStoneSlab.EnumType.SAND.getMetadata()), new Object[] {"###", '#', Blocks.SANDSTONE});
+        this.addRecipe(new ItemStack(Blocks.STONE_SLAB, 6, BlockStoneSlab.EnumType.BRICK.getMetadata()), new Object[] {"###", '#', Blocks.BRICK_BLOCK});
+        this.addRecipe(new ItemStack(Blocks.STONE_SLAB, 6, BlockStoneSlab.EnumType.SMOOTHBRICK.getMetadata()), new Object[] {"###", '#', Blocks.STONEBRICK});
+        this.addRecipe(new ItemStack(Blocks.STONE_SLAB, 6, BlockStoneSlab.EnumType.NETHERBRICK.getMetadata()), new Object[] {"###", '#', Blocks.NETHER_BRICK});
+        this.addRecipe(new ItemStack(Blocks.STONE_SLAB, 6, BlockStoneSlab.EnumType.QUARTZ.getMetadata()), new Object[] {"###", '#', Blocks.QUARTZ_BLOCK});
+        this.addRecipe(new ItemStack(Blocks.STONE_SLAB2, 6, BlockStoneSlabNew.EnumType.RED_SANDSTONE.getMetadata()), new Object[] {"###", '#', Blocks.RED_SANDSTONE});
+        this.addRecipe(new ItemStack(Blocks.PURPUR_SLAB, 6, 0), new Object[] {"###", '#', Blocks.PURPUR_BLOCK});
+        this.addRecipe(new ItemStack(Blocks.WOODEN_SLAB, 6, 0), new Object[] {"###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.WOODEN_SLAB, 6, BlockPlanks.EnumType.BIRCH.getMetadata()), new Object[] {"###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.BIRCH.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.WOODEN_SLAB, 6, BlockPlanks.EnumType.SPRUCE.getMetadata()), new Object[] {"###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.SPRUCE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.WOODEN_SLAB, 6, BlockPlanks.EnumType.JUNGLE.getMetadata()), new Object[] {"###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.JUNGLE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.WOODEN_SLAB, 6, 4 + BlockPlanks.EnumType.ACACIA.getMetadata() - 4), new Object[] {"###", '#', new ItemStack(Blocks.PLANKS, 1, 4 + BlockPlanks.EnumType.ACACIA.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Blocks.WOODEN_SLAB, 6, 4 + BlockPlanks.EnumType.DARK_OAK.getMetadata() - 4), new Object[] {"###", '#', new ItemStack(Blocks.PLANKS, 1, 4 + BlockPlanks.EnumType.DARK_OAK.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Blocks.LADDER, 3), new Object[] {"# #", "###", "# #", '#', Items.STICK});
+        this.addRecipe(new ItemStack(Items.OAK_DOOR, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Items.SPRUCE_DOOR, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.SPRUCE.getMetadata())});
+        this.addRecipe(new ItemStack(Items.BIRCH_DOOR, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.BIRCH.getMetadata())});
+        this.addRecipe(new ItemStack(Items.JUNGLE_DOOR, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.JUNGLE.getMetadata())});
+        this.addRecipe(new ItemStack(Items.ACACIA_DOOR, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.ACACIA.getMetadata())});
+        this.addRecipe(new ItemStack(Items.DARK_OAK_DOOR, 3), new Object[] {"##", "##", "##", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.DARK_OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.TRAPDOOR, 2), new Object[] {"###", "###", '#', Blocks.PLANKS});
+        this.addRecipe(new ItemStack(Items.IRON_DOOR, 3), new Object[] {"##", "##", "##", '#', Items.IRON_INGOT});
+        this.addRecipe(new ItemStack(Blocks.IRON_TRAPDOOR, 1), new Object[] {"##", "##", '#', Items.IRON_INGOT});
+        this.addRecipe(new ItemStack(Items.SIGN, 3), new Object[] {"###", "###", " X ", '#', Blocks.PLANKS, 'X', Items.STICK});
+        this.addRecipe(new ItemStack(Items.CAKE, 1), new Object[] {"AAA", "BEB", "CCC", 'A', Items.MILK_BUCKET, 'B', Items.SUGAR, 'C', Items.WHEAT, 'E', Items.EGG});
+        this.addRecipe(new ItemStack(Items.SUGAR, 1), new Object[] {"#", '#', Items.REEDS});
+        this.addRecipe(new ItemStack(Blocks.PLANKS, 4, BlockPlanks.EnumType.OAK.getMetadata()), new Object[] {"#", '#', new ItemStack(Blocks.LOG, 1, BlockPlanks.EnumType.OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.PLANKS, 4, BlockPlanks.EnumType.SPRUCE.getMetadata()), new Object[] {"#", '#', new ItemStack(Blocks.LOG, 1, BlockPlanks.EnumType.SPRUCE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.PLANKS, 4, BlockPlanks.EnumType.BIRCH.getMetadata()), new Object[] {"#", '#', new ItemStack(Blocks.LOG, 1, BlockPlanks.EnumType.BIRCH.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.PLANKS, 4, BlockPlanks.EnumType.JUNGLE.getMetadata()), new Object[] {"#", '#', new ItemStack(Blocks.LOG, 1, BlockPlanks.EnumType.JUNGLE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.PLANKS, 4, 4 + BlockPlanks.EnumType.ACACIA.getMetadata() - 4), new Object[] {"#", '#', new ItemStack(Blocks.LOG2, 1, BlockPlanks.EnumType.ACACIA.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Blocks.PLANKS, 4, 4 + BlockPlanks.EnumType.DARK_OAK.getMetadata() - 4), new Object[] {"#", '#', new ItemStack(Blocks.LOG2, 1, BlockPlanks.EnumType.DARK_OAK.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Items.STICK, 4), new Object[] {"#", "#", '#', Blocks.PLANKS});
+        this.addRecipe(new ItemStack(Blocks.TORCH, 4), new Object[] {"X", "#", 'X', Items.COAL, '#', Items.STICK});
+        this.addRecipe(new ItemStack(Blocks.TORCH, 4), new Object[] {"X", "#", 'X', new ItemStack(Items.COAL, 1, 1), '#', Items.STICK});
+        this.addRecipe(new ItemStack(Items.BOWL, 4), new Object[] {"# #", " # ", '#', Blocks.PLANKS});
+        this.addRecipe(new ItemStack(Items.GLASS_BOTTLE, 3), new Object[] {"# #", " # ", '#', Blocks.GLASS});
+        this.addRecipe(new ItemStack(Blocks.RAIL, 16), new Object[] {"X X", "X#X", "X X", 'X', Items.IRON_INGOT, '#', Items.STICK});
+        this.addRecipe(new ItemStack(Blocks.GOLDEN_RAIL, 6), new Object[] {"X X", "X#X", "XRX", 'X', Items.GOLD_INGOT, 'R', Items.REDSTONE, '#', Items.STICK});
+        this.addRecipe(new ItemStack(Blocks.ACTIVATOR_RAIL, 6), new Object[] {"XSX", "X#X", "XSX", 'X', Items.IRON_INGOT, '#', Blocks.REDSTONE_TORCH, 'S', Items.STICK});
+        this.addRecipe(new ItemStack(Blocks.DETECTOR_RAIL, 6), new Object[] {"X X", "X#X", "XRX", 'X', Items.IRON_INGOT, 'R', Items.REDSTONE, '#', Blocks.STONE_PRESSURE_PLATE});
+        this.addRecipe(new ItemStack(Items.MINECART, 1), new Object[] {"# #", "###", '#', Items.IRON_INGOT});
+        this.addRecipe(new ItemStack(Items.CAULDRON, 1), new Object[] {"# #", "# #", "###", '#', Items.IRON_INGOT});
+        this.addRecipe(new ItemStack(Items.BREWING_STAND, 1), new Object[] {" B ", "###", '#', Blocks.COBBLESTONE, 'B', Items.BLAZE_ROD});
+        this.addRecipe(new ItemStack(Blocks.LIT_PUMPKIN, 1), new Object[] {"A", "B", 'A', Blocks.PUMPKIN, 'B', Blocks.TORCH});
+        this.addRecipe(new ItemStack(Items.CHEST_MINECART, 1), new Object[] {"A", "B", 'A', Blocks.CHEST, 'B', Items.MINECART});
+        this.addRecipe(new ItemStack(Items.FURNACE_MINECART, 1), new Object[] {"A", "B", 'A', Blocks.FURNACE, 'B', Items.MINECART});
+        this.addRecipe(new ItemStack(Items.TNT_MINECART, 1), new Object[] {"A", "B", 'A', Blocks.TNT, 'B', Items.MINECART});
+        this.addRecipe(new ItemStack(Items.HOPPER_MINECART, 1), new Object[] {"A", "B", 'A', Blocks.HOPPER, 'B', Items.MINECART});
+        this.addRecipe(new ItemStack(Items.BOAT, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Items.SPRUCE_BOAT, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.SPRUCE.getMetadata())});
+        this.addRecipe(new ItemStack(Items.BIRCH_BOAT, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.BIRCH.getMetadata())});
+        this.addRecipe(new ItemStack(Items.JUNGLE_BOAT, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.JUNGLE.getMetadata())});
+        this.addRecipe(new ItemStack(Items.ACACIA_BOAT, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.ACACIA.getMetadata())});
+        this.addRecipe(new ItemStack(Items.DARK_OAK_BOAT, 1), new Object[] {"# #", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.DARK_OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Items.BUCKET, 1), new Object[] {"# #", " # ", '#', Items.IRON_INGOT});
+        this.addRecipe(new ItemStack(Items.FLOWER_POT, 1), new Object[] {"# #", " # ", '#', Items.BRICK});
+        this.addShapelessRecipe(new ItemStack(Items.FLINT_AND_STEEL, 1), new Object[] {new ItemStack(Items.IRON_INGOT, 1), new ItemStack(Items.FLINT, 1)});
+        this.addRecipe(new ItemStack(Items.BREAD, 1), new Object[] {"###", '#', Items.WHEAT});
+        this.addRecipe(new ItemStack(Blocks.OAK_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.OAK.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.BIRCH_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.BIRCH.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.SPRUCE_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.SPRUCE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.JUNGLE_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.PLANKS, 1, BlockPlanks.EnumType.JUNGLE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.ACACIA_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.PLANKS, 1, 4 + BlockPlanks.EnumType.ACACIA.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Blocks.DARK_OAK_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', new ItemStack(Blocks.PLANKS, 1, 4 + BlockPlanks.EnumType.DARK_OAK.getMetadata() - 4)});
+        this.addRecipe(new ItemStack(Items.FISHING_ROD, 1), new Object[] {"  #", " #X", "# X", '#', Items.STICK, 'X', Items.STRING});
+        this.addRecipe(new ItemStack(Items.CARROT_ON_A_STICK, 1), new Object[] {"# ", " X", '#', Items.FISHING_ROD, 'X', Items.CARROT});
+        this.addRecipe(new ItemStack(Blocks.STONE_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.COBBLESTONE});
+        this.addRecipe(new ItemStack(Blocks.BRICK_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.BRICK_BLOCK});
+        this.addRecipe(new ItemStack(Blocks.STONE_BRICK_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.STONEBRICK});
+        this.addRecipe(new ItemStack(Blocks.NETHER_BRICK_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.NETHER_BRICK});
+        this.addRecipe(new ItemStack(Blocks.SANDSTONE_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.SANDSTONE});
+        this.addRecipe(new ItemStack(Blocks.RED_SANDSTONE_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.RED_SANDSTONE});
+        this.addRecipe(new ItemStack(Blocks.QUARTZ_STAIRS, 4), new Object[] {"#  ", "## ", "###", '#', Blocks.QUARTZ_BLOCK});
+        this.addRecipe(new ItemStack(Items.PAINTING, 1), new Object[] {"###", "#X#", "###", '#', Items.STICK, 'X', Blocks.WOOL});
+        this.addRecipe(new ItemStack(Items.ITEM_FRAME, 1), new Object[] {"###", "#X#", "###", '#', Items.STICK, 'X', Items.LEATHER});
+        this.addRecipe(new ItemStack(Items.GOLDEN_APPLE), new Object[] {"###", "#X#", "###", '#', Items.GOLD_INGOT, 'X', Items.APPLE});
+        this.addRecipe(new ItemStack(Items.GOLDEN_CARROT), new Object[] {"###", "#X#", "###", '#', Items.GOLD_NUGGET, 'X', Items.CARROT});
+        this.addRecipe(new ItemStack(Items.SPECKLED_MELON, 1), new Object[] {"###", "#X#", "###", '#', Items.GOLD_NUGGET, 'X', Items.MELON});
+        this.addRecipe(new ItemStack(Blocks.LEVER, 1), new Object[] {"X", "#", '#', Blocks.COBBLESTONE, 'X', Items.STICK});
+        this.addRecipe(new ItemStack(Blocks.TRIPWIRE_HOOK, 2), new Object[] {"I", "S", "#", '#', Blocks.PLANKS, 'S', Items.STICK, 'I', Items.IRON_INGOT});
+        this.addRecipe(new ItemStack(Blocks.REDSTONE_TORCH, 1), new Object[] {"X", "#", '#', Items.STICK, 'X', Items.REDSTONE});
+        this.addRecipe(new ItemStack(Items.REPEATER, 1), new Object[] {"#X#", "III", '#', Blocks.REDSTONE_TORCH, 'X', Items.REDSTONE, 'I', new ItemStack(Blocks.STONE, 1, BlockStone.EnumType.STONE.getMetadata())});
+        this.addRecipe(new ItemStack(Items.COMPARATOR, 1), new Object[] {" # ", "#X#", "III", '#', Blocks.REDSTONE_TORCH, 'X', Items.QUARTZ, 'I', new ItemStack(Blocks.STONE, 1, BlockStone.EnumType.STONE.getMetadata())});
+        this.addRecipe(new ItemStack(Items.CLOCK, 1), new Object[] {" # ", "#X#", " # ", '#', Items.GOLD_INGOT, 'X', Items.REDSTONE});
+        this.addRecipe(new ItemStack(Items.COMPASS, 1), new Object[] {" # ", "#X#", " # ", '#', Items.IRON_INGOT, 'X', Items.REDSTONE});
+        this.addRecipe(new ItemStack(Items.MAP, 1), new Object[] {"###", "#X#", "###", '#', Items.PAPER, 'X', Items.COMPASS});
+        this.addRecipe(new ItemStack(Blocks.STONE_BUTTON, 1), new Object[] {"#", '#', new ItemStack(Blocks.STONE, 1, BlockStone.EnumType.STONE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.WOODEN_BUTTON, 1), new Object[] {"#", '#', Blocks.PLANKS});
+        this.addRecipe(new ItemStack(Blocks.STONE_PRESSURE_PLATE, 1), new Object[] {"##", '#', new ItemStack(Blocks.STONE, 1, BlockStone.EnumType.STONE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.WOODEN_PRESSURE_PLATE, 1), new Object[] {"##", '#', Blocks.PLANKS});
+        this.addRecipe(new ItemStack(Blocks.HEAVY_WEIGHTED_PRESSURE_PLATE, 1), new Object[] {"##", '#', Items.IRON_INGOT});
+        this.addRecipe(new ItemStack(Blocks.LIGHT_WEIGHTED_PRESSURE_PLATE, 1), new Object[] {"##", '#', Items.GOLD_INGOT});
+        this.addRecipe(new ItemStack(Blocks.DISPENSER, 1), new Object[] {"###", "#X#", "#R#", '#', Blocks.COBBLESTONE, 'X', Items.BOW, 'R', Items.REDSTONE});
+        this.addRecipe(new ItemStack(Blocks.DROPPER, 1), new Object[] {"###", "# #", "#R#", '#', Blocks.COBBLESTONE, 'R', Items.REDSTONE});
+        this.addRecipe(new ItemStack(Blocks.OBSERVER, 1), new Object[] {"###", "RRQ", "###", '#', Blocks.COBBLESTONE, 'R', Items.REDSTONE, 'Q', Items.QUARTZ});
+        this.addRecipe(new ItemStack(Blocks.PISTON, 1), new Object[] {"TTT", "#X#", "#R#", '#', Blocks.COBBLESTONE, 'X', Items.IRON_INGOT, 'R', Items.REDSTONE, 'T', Blocks.PLANKS});
+        this.addRecipe(new ItemStack(Blocks.STICKY_PISTON, 1), new Object[] {"S", "P", 'S', Items.SLIME_BALL, 'P', Blocks.PISTON});
+        this.addRecipe(new ItemStack(Items.BED, 1), new Object[] {"###", "XXX", '#', Blocks.WOOL, 'X', Blocks.PLANKS});
+        this.addRecipe(new ItemStack(Blocks.ENCHANTING_TABLE, 1), new Object[] {" B ", "D#D", "###", '#', Blocks.OBSIDIAN, 'B', Items.BOOK, 'D', Items.DIAMOND});
+        this.addRecipe(new ItemStack(Blocks.ANVIL, 1), new Object[] {"III", " i ", "iii", 'I', Blocks.IRON_BLOCK, 'i', Items.IRON_INGOT});
+        this.addRecipe(new ItemStack(Items.LEATHER), new Object[] {"##", "##", '#', Items.RABBIT_HIDE});
+        this.addShapelessRecipe(new ItemStack(Items.ENDER_EYE, 1), new Object[] {Items.ENDER_PEARL, Items.BLAZE_POWDER});
+        this.addShapelessRecipe(new ItemStack(Items.FIRE_CHARGE, 3), new Object[] {Items.GUNPOWDER, Items.BLAZE_POWDER, Items.COAL});
+        this.addShapelessRecipe(new ItemStack(Items.FIRE_CHARGE, 3), new Object[] {Items.GUNPOWDER, Items.BLAZE_POWDER, new ItemStack(Items.COAL, 1, 1)});
+        this.addRecipe(new ItemStack(Blocks.DAYLIGHT_DETECTOR), new Object[] {"GGG", "QQQ", "WWW", 'G', Blocks.GLASS, 'Q', Items.QUARTZ, 'W', Blocks.WOODEN_SLAB});
+        this.addRecipe(new ItemStack(Items.END_CRYSTAL), new Object[] {"GGG", "GEG", "GTG", 'G', Blocks.GLASS, 'E', Items.ENDER_EYE, 'T', Items.GHAST_TEAR});
+        this.addRecipe(new ItemStack(Blocks.HOPPER), new Object[] {"I I", "ICI", " I ", 'I', Items.IRON_INGOT, 'C', Blocks.CHEST});
+        this.addRecipe(new ItemStack(Items.ARMOR_STAND, 1), new Object[] {"///", " / ", "/_/", '/', Items.STICK, '_', new ItemStack(Blocks.STONE_SLAB, 1, BlockStoneSlab.EnumType.STONE.getMetadata())});
+        this.addRecipe(new ItemStack(Blocks.END_ROD, 4), new Object[] {"/", "#", '/', Items.BLAZE_ROD, '#', Items.CHORUS_FRUIT_POPPED});
+        this.addRecipe(new ItemStack(Blocks.BONE_BLOCK, 1), new Object[] {"XXX", "XXX", "XXX", 'X', new ItemStack(Items.DYE, 1, EnumDyeColor.WHITE.getDyeDamage())});
+        Collections.sort(this.recipes, new Comparator<IRecipe>()
         {
             public int compare(IRecipe p_compare_1_, IRecipe p_compare_2_)
             {
-                return p_compare_1_ instanceof ShapelessRecipes && p_compare_2_ instanceof ShapedRecipes ? 1 : (p_compare_2_ instanceof ShapelessRecipes && p_compare_1_ instanceof ShapedRecipes ? -1 : (p_compare_2_.func_77570_a() < p_compare_1_.func_77570_a() ? -1 : (p_compare_2_.func_77570_a() > p_compare_1_.func_77570_a() ? 1 : 0)));
+                return p_compare_1_ instanceof ShapelessRecipes && p_compare_2_ instanceof ShapedRecipes ? 1 : (p_compare_2_ instanceof ShapelessRecipes && p_compare_1_ instanceof ShapedRecipes ? -1 : (p_compare_2_.getRecipeSize() < p_compare_1_.getRecipeSize() ? -1 : (p_compare_2_.getRecipeSize() > p_compare_1_.getRecipeSize() ? 1 : 0)));
             }
         });
     }
 
-    public ShapedRecipes func_92103_a(ItemStack p_92103_1_, Object... p_92103_2_)
+    public ShapedRecipes addRecipe(ItemStack stack, Object... recipeComponents)
     {
         String s = "";
         int i = 0;
         int j = 0;
         int k = 0;
 
-        if (p_92103_2_[i] instanceof String[])
+        if (recipeComponents[i] instanceof String[])
         {
-            String[] astring = (String[])((String[])p_92103_2_[i++]);
+            String[] astring = (String[])((String[])recipeComponents[i++]);
 
             for (String s2 : astring)
             {
@@ -222,9 +225,9 @@
         }
         else
         {
-            while (p_92103_2_[i] instanceof String)
+            while (recipeComponents[i] instanceof String)
             {
-                String s1 = (String)p_92103_2_[i++];
+                String s1 = (String)recipeComponents[i++];
                 ++k;
                 j = s1.length();
                 s = s + s1;
@@ -233,22 +236,22 @@
 
         Map<Character, ItemStack> map;
 
-        for (map = Maps.<Character, ItemStack>newHashMap(); i < p_92103_2_.length; i += 2)
+        for (map = Maps.<Character, ItemStack>newHashMap(); i < recipeComponents.length; i += 2)
         {
-            Character character = (Character)p_92103_2_[i];
-            ItemStack itemstack = ItemStack.field_190927_a;
+            Character character = (Character)recipeComponents[i];
+            ItemStack itemstack = ItemStack.EMPTY;
 
-            if (p_92103_2_[i + 1] instanceof Item)
+            if (recipeComponents[i + 1] instanceof Item)
             {
-                itemstack = new ItemStack((Item)p_92103_2_[i + 1]);
+                itemstack = new ItemStack((Item)recipeComponents[i + 1]);
             }
-            else if (p_92103_2_[i + 1] instanceof Block)
+            else if (recipeComponents[i + 1] instanceof Block)
             {
-                itemstack = new ItemStack((Block)p_92103_2_[i + 1], 1, 32767);
+                itemstack = new ItemStack((Block)recipeComponents[i + 1], 1, 32767);
             }
-            else if (p_92103_2_[i + 1] instanceof ItemStack)
+            else if (recipeComponents[i + 1] instanceof ItemStack)
             {
-                itemstack = (ItemStack)p_92103_2_[i + 1];
+                itemstack = (ItemStack)recipeComponents[i + 1];
             }
 
             map.put(character, itemstack);
@@ -262,28 +265,28 @@
 
             if (map.containsKey(Character.valueOf(c0)))
             {
-                aitemstack[l] = ((ItemStack)map.get(Character.valueOf(c0))).func_77946_l();
+                aitemstack[l] = ((ItemStack)map.get(Character.valueOf(c0))).copy();
             }
             else
             {
-                aitemstack[l] = ItemStack.field_190927_a;
+                aitemstack[l] = ItemStack.EMPTY;
             }
         }
 
-        ShapedRecipes shapedrecipes = new ShapedRecipes(j, k, aitemstack, p_92103_1_);
-        this.field_77597_b.add(shapedrecipes);
+        ShapedRecipes shapedrecipes = new ShapedRecipes(j, k, aitemstack, stack);
+        this.recipes.add(shapedrecipes);
         return shapedrecipes;
     }
 
-    public void func_77596_b(ItemStack p_77596_1_, Object... p_77596_2_)
+    public void addShapelessRecipe(ItemStack stack, Object... recipeComponents)
     {
         List<ItemStack> list = Lists.<ItemStack>newArrayList();
 
-        for (Object object : p_77596_2_)
+        for (Object object : recipeComponents)
         {
             if (object instanceof ItemStack)
             {
-                list.add(((ItemStack)object).func_77946_l());
+                list.add(((ItemStack)object).copy());
             }
             else if (object instanceof Item)
             {
@@ -300,49 +303,54 @@
             }
         }
 
-        this.field_77597_b.add(new ShapelessRecipes(p_77596_1_, list));
+        this.recipes.add(new ShapelessRecipes(stack, list));
     }
 
-    public void func_180302_a(IRecipe p_180302_1_)
+    public void addRecipe(IRecipe recipe)
     {
-        this.field_77597_b.add(p_180302_1_);
+        this.recipes.add(recipe);
     }
 
-    public ItemStack func_82787_a(InventoryCrafting p_82787_1_, World p_82787_2_)
+    public ItemStack findMatchingRecipe(InventoryCrafting craftMatrix, World worldIn)
     {
-        for (IRecipe irecipe : this.field_77597_b)
+        for (IRecipe irecipe : this.recipes)
         {
-            if (irecipe.func_77569_a(p_82787_1_, p_82787_2_))
+            if (irecipe.matches(craftMatrix, worldIn))
             {
-                return irecipe.func_77572_b(p_82787_1_);
+
+                // CraftBukkit start - INVENTORY_PRE_CRAFT event
+                craftMatrix.currentRecipe = irecipe;
+                ItemStack result = irecipe.getCraftingResult(craftMatrix);
+                return CraftEventFactory.callPreCraftEvent(craftMatrix, result, lastCraftView, false);
+                // CraftBukkit end
             }
         }
 
-        return ItemStack.field_190927_a;
+        return ItemStack.EMPTY;
     }
 
-    public NonNullList<ItemStack> func_180303_b(InventoryCrafting p_180303_1_, World p_180303_2_)
+    public NonNullList<ItemStack> getRemainingItems(InventoryCrafting craftMatrix, World worldIn)
     {
-        for (IRecipe irecipe : this.field_77597_b)
+        for (IRecipe irecipe : this.recipes)
         {
-            if (irecipe.func_77569_a(p_180303_1_, p_180303_2_))
+            if (irecipe.matches(craftMatrix, worldIn))
             {
-                return irecipe.func_179532_b(p_180303_1_);
+                return irecipe.getRemainingItems(craftMatrix);
             }
         }
 
-        NonNullList<ItemStack> nonnulllist = NonNullList.<ItemStack>func_191197_a(p_180303_1_.func_70302_i_(), ItemStack.field_190927_a);
+        NonNullList<ItemStack> nonnulllist = NonNullList.<ItemStack>withSize(craftMatrix.getSizeInventory(), ItemStack.EMPTY);
 
         for (int i = 0; i < nonnulllist.size(); ++i)
         {
-            nonnulllist.set(i, p_180303_1_.func_70301_a(i));
+            nonnulllist.set(i, craftMatrix.getStackInSlot(i));
         }
 
         return nonnulllist;
     }
 
-    public List<IRecipe> func_77592_b()
+    public List<IRecipe> getRecipeList()
     {
-        return this.field_77597_b;
+        return this.recipes;
     }
 }
