--- ../src-base/minecraft/net/minecraft/entity/passive/EntityOcelot.java
+++ ../src-work/minecraft/net/minecraft/entity/passive/EntityOcelot.java
@@ -44,262 +44,262 @@
 
 public class EntityOcelot extends EntityTameable
 {
-    private static final DataParameter<Integer> field_184757_bz = EntityDataManager.<Integer>func_187226_a(EntityOcelot.class, DataSerializers.field_187192_b);
-    private EntityAIAvoidEntity<EntityPlayer> field_175545_bm;
-    private EntityAITempt field_70914_e;
+    private static final DataParameter<Integer> OCELOT_VARIANT = EntityDataManager.<Integer>createKey(EntityOcelot.class, DataSerializers.VARINT);
+    private EntityAIAvoidEntity<EntityPlayer> avoidEntity;
+    private EntityAITempt aiTempt;
 
-    public EntityOcelot(World p_i1688_1_)
+    public EntityOcelot(World worldIn)
     {
-        super(p_i1688_1_);
-        this.func_70105_a(0.6F, 0.7F);
+        super(worldIn);
+        this.setSize(0.6F, 0.7F);
     }
 
-    protected void func_184651_r()
+    protected void initEntityAI()
     {
-        this.field_70911_d = new EntityAISit(this);
-        this.field_70914_e = new EntityAITempt(this, 0.6D, Items.field_151115_aP, true);
-        this.field_70714_bg.func_75776_a(1, new EntityAISwimming(this));
-        this.field_70714_bg.func_75776_a(2, this.field_70911_d);
-        this.field_70714_bg.func_75776_a(3, this.field_70914_e);
-        this.field_70714_bg.func_75776_a(5, new EntityAIFollowOwner(this, 1.0D, 10.0F, 5.0F));
-        this.field_70714_bg.func_75776_a(6, new EntityAIOcelotSit(this, 0.8D));
-        this.field_70714_bg.func_75776_a(7, new EntityAILeapAtTarget(this, 0.3F));
-        this.field_70714_bg.func_75776_a(8, new EntityAIOcelotAttack(this));
-        this.field_70714_bg.func_75776_a(9, new EntityAIMate(this, 0.8D));
-        this.field_70714_bg.func_75776_a(10, new EntityAIWanderAvoidWater(this, 0.8D, 1.0000001E-5F));
-        this.field_70714_bg.func_75776_a(11, new EntityAIWatchClosest(this, EntityPlayer.class, 10.0F));
-        this.field_70715_bh.func_75776_a(1, new EntityAITargetNonTamed(this, EntityChicken.class, false, (Predicate)null));
+        this.aiSit = new EntityAISit(this);
+        this.aiTempt = new EntityAITempt(this, 0.6D, Items.FISH, true);
+        this.tasks.addTask(1, new EntityAISwimming(this));
+        this.tasks.addTask(2, this.aiSit);
+        this.tasks.addTask(3, this.aiTempt);
+        this.tasks.addTask(5, new EntityAIFollowOwner(this, 1.0D, 10.0F, 5.0F));
+        this.tasks.addTask(6, new EntityAIOcelotSit(this, 0.8D));
+        this.tasks.addTask(7, new EntityAILeapAtTarget(this, 0.3F));
+        this.tasks.addTask(8, new EntityAIOcelotAttack(this));
+        this.tasks.addTask(9, new EntityAIMate(this, 0.8D));
+        this.tasks.addTask(10, new EntityAIWanderAvoidWater(this, 0.8D, 1.0000001E-5F));
+        this.tasks.addTask(11, new EntityAIWatchClosest(this, EntityPlayer.class, 10.0F));
+        this.targetTasks.addTask(1, new EntityAITargetNonTamed(this, EntityChicken.class, false, (Predicate)null));
     }
 
-    protected void func_70088_a()
+    protected void entityInit()
     {
-        super.func_70088_a();
-        this.field_70180_af.func_187214_a(field_184757_bz, Integer.valueOf(0));
+        super.entityInit();
+        this.dataManager.register(OCELOT_VARIANT, Integer.valueOf(0));
     }
 
-    public void func_70619_bc()
+    public void updateAITasks()
     {
-        if (this.func_70605_aq().func_75640_a())
+        if (this.getMoveHelper().isUpdating())
         {
-            double d0 = this.func_70605_aq().func_75638_b();
+            double d0 = this.getMoveHelper().getSpeed();
 
             if (d0 == 0.6D)
             {
-                this.func_70095_a(true);
-                this.func_70031_b(false);
+                this.setSneaking(true);
+                this.setSprinting(false);
             }
             else if (d0 == 1.33D)
             {
-                this.func_70095_a(false);
-                this.func_70031_b(true);
+                this.setSneaking(false);
+                this.setSprinting(true);
             }
             else
             {
-                this.func_70095_a(false);
-                this.func_70031_b(false);
+                this.setSneaking(false);
+                this.setSprinting(false);
             }
         }
         else
         {
-            this.func_70095_a(false);
-            this.func_70031_b(false);
+            this.setSneaking(false);
+            this.setSprinting(false);
         }
     }
 
-    protected boolean func_70692_ba()
+    protected boolean canDespawn()
     {
-        return !this.func_70909_n() && this.field_70173_aa > 2400;
+        return !this.isTamed() && this.ticksExisted > 2400;
     }
 
-    protected void func_110147_ax()
+    protected void applyEntityAttributes()
     {
-        super.func_110147_ax();
-        this.func_110148_a(SharedMonsterAttributes.field_111267_a).func_111128_a(10.0D);
-        this.func_110148_a(SharedMonsterAttributes.field_111263_d).func_111128_a(0.30000001192092896D);
+        super.applyEntityAttributes();
+        this.getEntityAttribute(SharedMonsterAttributes.MAX_HEALTH).setBaseValue(10.0D);
+        this.getEntityAttribute(SharedMonsterAttributes.MOVEMENT_SPEED).setBaseValue(0.30000001192092896D);
     }
 
-    public void func_180430_e(float p_180430_1_, float p_180430_2_)
+    public void fall(float distance, float damageMultiplier)
     {
     }
 
-    public static void func_189787_b(DataFixer p_189787_0_)
+    public static void registerFixesOcelot(DataFixer fixer)
     {
-        EntityLiving.func_189752_a(p_189787_0_, EntityOcelot.class);
+        EntityLiving.registerFixesMob(fixer, EntityOcelot.class);
     }
 
-    public void func_70014_b(NBTTagCompound p_70014_1_)
+    public void writeEntityToNBT(NBTTagCompound compound)
     {
-        super.func_70014_b(p_70014_1_);
-        p_70014_1_.func_74768_a("CatType", this.func_70913_u());
+        super.writeEntityToNBT(compound);
+        compound.setInteger("CatType", this.getTameSkin());
     }
 
-    public void func_70037_a(NBTTagCompound p_70037_1_)
+    public void readEntityFromNBT(NBTTagCompound compound)
     {
-        super.func_70037_a(p_70037_1_);
-        this.func_70912_b(p_70037_1_.func_74762_e("CatType"));
+        super.readEntityFromNBT(compound);
+        this.setTameSkin(compound.getInteger("CatType"));
     }
 
     @Nullable
-    protected SoundEvent func_184639_G()
+    protected SoundEvent getAmbientSound()
     {
-        return this.func_70909_n() ? (this.func_70880_s() ? SoundEvents.field_187645_R : (this.field_70146_Z.nextInt(4) == 0 ? SoundEvents.field_187648_S : SoundEvents.field_187636_O)) : null;
+        return this.isTamed() ? (this.isInLove() ? SoundEvents.ENTITY_CAT_PURR : (this.rand.nextInt(4) == 0 ? SoundEvents.ENTITY_CAT_PURREOW : SoundEvents.ENTITY_CAT_AMBIENT)) : null;
     }
 
-    protected SoundEvent func_184601_bQ()
+    protected SoundEvent getHurtSound()
     {
-        return SoundEvents.field_187642_Q;
+        return SoundEvents.ENTITY_CAT_HURT;
     }
 
-    protected SoundEvent func_184615_bR()
+    protected SoundEvent getDeathSound()
     {
-        return SoundEvents.field_187639_P;
+        return SoundEvents.ENTITY_CAT_DEATH;
     }
 
-    protected float func_70599_aP()
+    protected float getSoundVolume()
     {
         return 0.4F;
     }
 
-    public boolean func_70652_k(Entity p_70652_1_)
+    public boolean attackEntityAsMob(Entity entityIn)
     {
-        return p_70652_1_.func_70097_a(DamageSource.func_76358_a(this), 3.0F);
+        return entityIn.attackEntityFrom(DamageSource.causeMobDamage(this), 3.0F);
     }
 
-    public boolean func_70097_a(DamageSource p_70097_1_, float p_70097_2_)
+    public boolean attackEntityFrom(DamageSource source, float amount)
     {
-        if (this.func_180431_b(p_70097_1_))
+        if (this.isEntityInvulnerable(source))
         {
             return false;
         }
         else
         {
-            if (this.field_70911_d != null)
+            if (this.aiSit != null)
             {
-                this.field_70911_d.func_75270_a(false);
+                this.aiSit.setSitting(false);
             }
 
-            return super.func_70097_a(p_70097_1_, p_70097_2_);
+            return super.attackEntityFrom(source, amount);
         }
     }
 
     @Nullable
-    protected ResourceLocation func_184647_J()
+    protected ResourceLocation getLootTable()
     {
-        return LootTableList.field_186402_J;
+        return LootTableList.ENTITIES_OCELOT;
     }
 
-    public boolean func_184645_a(EntityPlayer p_184645_1_, EnumHand p_184645_2_)
+    public boolean processInteract(EntityPlayer player, EnumHand hand)
     {
-        ItemStack itemstack = p_184645_1_.func_184586_b(p_184645_2_);
+        ItemStack itemstack = player.getHeldItem(hand);
 
-        if (this.func_70909_n())
+        if (this.isTamed())
         {
-            if (this.func_152114_e(p_184645_1_) && !this.field_70170_p.field_72995_K && !this.func_70877_b(itemstack))
+            if (this.isOwner(player) && !this.world.isRemote && !this.isBreedingItem(itemstack))
             {
-                this.field_70911_d.func_75270_a(!this.func_70906_o());
+                this.aiSit.setSitting(!this.isSitting());
             }
         }
-        else if ((this.field_70914_e == null || this.field_70914_e.func_75277_f()) && itemstack.func_77973_b() == Items.field_151115_aP && p_184645_1_.func_70068_e(this) < 9.0D)
+        else if ((this.aiTempt == null || this.aiTempt.isRunning()) && itemstack.getItem() == Items.FISH && player.getDistanceSqToEntity(this) < 9.0D)
         {
-            if (!p_184645_1_.field_71075_bZ.field_75098_d)
+            if (!player.capabilities.isCreativeMode)
             {
-                itemstack.func_190918_g(1);
+                itemstack.shrink(1);
             }
 
-            if (!this.field_70170_p.field_72995_K)
+            if (!this.world.isRemote)
             {
-                if (this.field_70146_Z.nextInt(3) == 0)
+                if (this.rand.nextInt(3) == 0 && !net.minecraftforge.event.ForgeEventFactory.onAnimalTame(this, player))
                 {
-                    this.func_70903_f(true);
-                    this.func_70912_b(1 + this.field_70170_p.field_73012_v.nextInt(3));
-                    this.func_184754_b(p_184645_1_.func_110124_au());
-                    this.func_70908_e(true);
-                    this.field_70911_d.func_75270_a(true);
-                    this.field_70170_p.func_72960_a(this, (byte)7);
+                    this.setTamed(true);
+                    this.setTameSkin(1 + this.world.rand.nextInt(3));
+                    this.setOwnerId(player.getUniqueID());
+                    this.playTameEffect(true);
+                    this.aiSit.setSitting(true);
+                    this.world.setEntityState(this, (byte)7);
                 }
                 else
                 {
-                    this.func_70908_e(false);
-                    this.field_70170_p.func_72960_a(this, (byte)6);
+                    this.playTameEffect(false);
+                    this.world.setEntityState(this, (byte)6);
                 }
             }
 
             return true;
         }
 
-        return super.func_184645_a(p_184645_1_, p_184645_2_);
+        return super.processInteract(player, hand);
     }
 
-    public EntityOcelot func_90011_a(EntityAgeable p_90011_1_)
+    public EntityOcelot createChild(EntityAgeable ageable)
     {
-        EntityOcelot entityocelot = new EntityOcelot(this.field_70170_p);
+        EntityOcelot entityocelot = new EntityOcelot(this.world);
 
-        if (this.func_70909_n())
+        if (this.isTamed())
         {
-            entityocelot.func_184754_b(this.func_184753_b());
-            entityocelot.func_70903_f(true);
-            entityocelot.func_70912_b(this.func_70913_u());
+            entityocelot.setOwnerId(this.getOwnerId());
+            entityocelot.setTamed(true);
+            entityocelot.setTameSkin(this.getTameSkin());
         }
 
         return entityocelot;
     }
 
-    public boolean func_70877_b(ItemStack p_70877_1_)
+    public boolean isBreedingItem(ItemStack stack)
     {
-        return p_70877_1_.func_77973_b() == Items.field_151115_aP;
+        return stack.getItem() == Items.FISH;
     }
 
-    public boolean func_70878_b(EntityAnimal p_70878_1_)
+    public boolean canMateWith(EntityAnimal otherAnimal)
     {
-        if (p_70878_1_ == this)
+        if (otherAnimal == this)
         {
             return false;
         }
-        else if (!this.func_70909_n())
+        else if (!this.isTamed())
         {
             return false;
         }
-        else if (!(p_70878_1_ instanceof EntityOcelot))
+        else if (!(otherAnimal instanceof EntityOcelot))
         {
             return false;
         }
         else
         {
-            EntityOcelot entityocelot = (EntityOcelot)p_70878_1_;
-            return !entityocelot.func_70909_n() ? false : this.func_70880_s() && entityocelot.func_70880_s();
+            EntityOcelot entityocelot = (EntityOcelot)otherAnimal;
+            return !entityocelot.isTamed() ? false : this.isInLove() && entityocelot.isInLove();
         }
     }
 
-    public int func_70913_u()
+    public int getTameSkin()
     {
-        return ((Integer)this.field_70180_af.func_187225_a(field_184757_bz)).intValue();
+        return ((Integer)this.dataManager.get(OCELOT_VARIANT)).intValue();
     }
 
-    public void func_70912_b(int p_70912_1_)
+    public void setTameSkin(int skinId)
     {
-        this.field_70180_af.func_187227_b(field_184757_bz, Integer.valueOf(p_70912_1_));
+        this.dataManager.set(OCELOT_VARIANT, Integer.valueOf(skinId));
     }
 
-    public boolean func_70601_bi()
+    public boolean getCanSpawnHere()
     {
-        return this.field_70170_p.field_73012_v.nextInt(3) != 0;
+        return this.world.rand.nextInt(3) != 0;
     }
 
-    public boolean func_70058_J()
+    public boolean isNotColliding()
     {
-        if (this.field_70170_p.func_72917_a(this.func_174813_aQ(), this) && this.field_70170_p.func_184144_a(this, this.func_174813_aQ()).isEmpty() && !this.field_70170_p.func_72953_d(this.func_174813_aQ()))
+        if (this.world.checkNoEntityCollision(this.getEntityBoundingBox(), this) && this.world.getCollisionBoxes(this, this.getEntityBoundingBox()).isEmpty() && !this.world.containsAnyLiquid(this.getEntityBoundingBox()))
         {
-            BlockPos blockpos = new BlockPos(this.field_70165_t, this.func_174813_aQ().field_72338_b, this.field_70161_v);
+            BlockPos blockpos = new BlockPos(this.posX, this.getEntityBoundingBox().minY, this.posZ);
 
-            if (blockpos.func_177956_o() < this.field_70170_p.func_181545_F())
+            if (blockpos.getY() < this.world.getSeaLevel())
             {
                 return false;
             }
 
-            IBlockState iblockstate = this.field_70170_p.func_180495_p(blockpos.func_177977_b());
-            Block block = iblockstate.func_177230_c();
+            IBlockState iblockstate = this.world.getBlockState(blockpos.down());
+            Block block = iblockstate.getBlock();
 
-            if (block == Blocks.field_150349_c || iblockstate.func_185904_a() == Material.field_151584_j)
+            if (block == Blocks.GRASS || block.isLeaves(iblockstate, this.world, blockpos.down()))
             {
                 return true;
             }
@@ -308,42 +308,42 @@
         return false;
     }
 
-    public String func_70005_c_()
+    public String getName()
     {
-        return this.func_145818_k_() ? this.func_95999_t() : (this.func_70909_n() ? I18n.func_74838_a("entity.Cat.name") : super.func_70005_c_());
+        return this.hasCustomName() ? this.getCustomNameTag() : (this.isTamed() ? I18n.translateToLocal("entity.Cat.name") : super.getName());
     }
 
-    protected void func_175544_ck()
+    protected void setupTamedAI()
     {
-        if (this.field_175545_bm == null)
+        if (this.avoidEntity == null)
         {
-            this.field_175545_bm = new EntityAIAvoidEntity(this, EntityPlayer.class, 16.0F, 0.8D, 1.33D);
+            this.avoidEntity = new EntityAIAvoidEntity(this, EntityPlayer.class, 16.0F, 0.8D, 1.33D);
         }
 
-        this.field_70714_bg.func_85156_a(this.field_175545_bm);
+        this.tasks.removeTask(this.avoidEntity);
 
-        if (!this.func_70909_n())
+        if (!this.isTamed())
         {
-            this.field_70714_bg.func_75776_a(4, this.field_175545_bm);
+            this.tasks.addTask(4, this.avoidEntity);
         }
     }
 
     @Nullable
-    public IEntityLivingData func_180482_a(DifficultyInstance p_180482_1_, @Nullable IEntityLivingData p_180482_2_)
+    public IEntityLivingData onInitialSpawn(DifficultyInstance difficulty, @Nullable IEntityLivingData livingdata)
     {
-        p_180482_2_ = super.func_180482_a(p_180482_1_, p_180482_2_);
+        livingdata = super.onInitialSpawn(difficulty, livingdata);
 
-        if (this.func_70913_u() == 0 && this.field_70170_p.field_73012_v.nextInt(7) == 0)
+        if (this.getTameSkin() == 0 && this.world.rand.nextInt(7) == 0)
         {
             for (int i = 0; i < 2; ++i)
             {
-                EntityOcelot entityocelot = new EntityOcelot(this.field_70170_p);
-                entityocelot.func_70012_b(this.field_70165_t, this.field_70163_u, this.field_70161_v, this.field_70177_z, 0.0F);
-                entityocelot.func_70873_a(-24000);
-                this.field_70170_p.func_72838_d(entityocelot);
+                EntityOcelot entityocelot = new EntityOcelot(this.world);
+                entityocelot.setLocationAndAngles(this.posX, this.posY, this.posZ, this.rotationYaw, 0.0F);
+                entityocelot.setGrowingAge(-24000);
+                this.world.addEntity(entityocelot, org.bukkit.event.entity.CreatureSpawnEvent.SpawnReason.OCELOT_BABY); // CraftBukkit - add SpawnReason
             }
         }
 
-        return p_180482_2_;
+        return livingdata;
     }
 }
