--- ../src-base/minecraft/net/minecraft/entity/passive/EntityCow.java
+++ ../src-work/minecraft/net/minecraft/entity/passive/EntityCow.java
@@ -24,103 +24,112 @@
 import net.minecraft.util.math.BlockPos;
 import net.minecraft.world.World;
 import net.minecraft.world.storage.loot.LootTableList;
+import org.bukkit.Location;
+import org.bukkit.craftbukkit.event.CraftEventFactory;
+import org.bukkit.craftbukkit.inventory.CraftItemStack;
+import org.bukkit.event.player.PlayerBucketFillEvent;
 
 public class EntityCow extends EntityAnimal
 {
-    public EntityCow(World p_i1683_1_)
+    public EntityCow(World worldIn)
     {
-        super(p_i1683_1_);
-        this.func_70105_a(0.9F, 1.4F);
+        super(worldIn);
+        this.setSize(0.9F, 1.4F);
     }
 
-    public static void func_189790_b(DataFixer p_189790_0_)
+    public static void registerFixesCow(DataFixer fixer)
     {
-        EntityLiving.func_189752_a(p_189790_0_, EntityCow.class);
+        EntityLiving.registerFixesMob(fixer, EntityCow.class);
     }
 
-    protected void func_184651_r()
+    protected void initEntityAI()
     {
-        this.field_70714_bg.func_75776_a(0, new EntityAISwimming(this));
-        this.field_70714_bg.func_75776_a(1, new EntityAIPanic(this, 2.0D));
-        this.field_70714_bg.func_75776_a(2, new EntityAIMate(this, 1.0D));
-        this.field_70714_bg.func_75776_a(3, new EntityAITempt(this, 1.25D, Items.field_151015_O, false));
-        this.field_70714_bg.func_75776_a(4, new EntityAIFollowParent(this, 1.25D));
-        this.field_70714_bg.func_75776_a(5, new EntityAIWanderAvoidWater(this, 1.0D));
-        this.field_70714_bg.func_75776_a(6, new EntityAIWatchClosest(this, EntityPlayer.class, 6.0F));
-        this.field_70714_bg.func_75776_a(7, new EntityAILookIdle(this));
+        this.tasks.addTask(0, new EntityAISwimming(this));
+        this.tasks.addTask(1, new EntityAIPanic(this, 2.0D));
+        this.tasks.addTask(2, new EntityAIMate(this, 1.0D));
+        this.tasks.addTask(3, new EntityAITempt(this, 1.25D, Items.WHEAT, false));
+        this.tasks.addTask(4, new EntityAIFollowParent(this, 1.25D));
+        this.tasks.addTask(5, new EntityAIWanderAvoidWater(this, 1.0D));
+        this.tasks.addTask(6, new EntityAIWatchClosest(this, EntityPlayer.class, 6.0F));
+        this.tasks.addTask(7, new EntityAILookIdle(this));
     }
 
-    protected void func_110147_ax()
+    protected void applyEntityAttributes()
     {
-        super.func_110147_ax();
-        this.func_110148_a(SharedMonsterAttributes.field_111267_a).func_111128_a(10.0D);
-        this.func_110148_a(SharedMonsterAttributes.field_111263_d).func_111128_a(0.20000000298023224D);
+        super.applyEntityAttributes();
+        this.getEntityAttribute(SharedMonsterAttributes.MAX_HEALTH).setBaseValue(10.0D);
+        this.getEntityAttribute(SharedMonsterAttributes.MOVEMENT_SPEED).setBaseValue(0.20000000298023224D);
     }
 
-    protected SoundEvent func_184639_G()
+    protected SoundEvent getAmbientSound()
     {
-        return SoundEvents.field_187558_ak;
+        return SoundEvents.ENTITY_COW_AMBIENT;
     }
 
-    protected SoundEvent func_184601_bQ()
+    protected SoundEvent getHurtSound()
     {
-        return SoundEvents.field_187562_am;
+        return SoundEvents.ENTITY_COW_HURT;
     }
 
-    protected SoundEvent func_184615_bR()
+    protected SoundEvent getDeathSound()
     {
-        return SoundEvents.field_187560_al;
+        return SoundEvents.ENTITY_COW_DEATH;
     }
 
-    protected void func_180429_a(BlockPos p_180429_1_, Block p_180429_2_)
+    protected void playStepSound(BlockPos pos, Block blockIn)
     {
-        this.func_184185_a(SoundEvents.field_187566_ao, 0.15F, 1.0F);
+        this.playSound(SoundEvents.ENTITY_COW_STEP, 0.15F, 1.0F);
     }
 
-    protected float func_70599_aP()
+    protected float getSoundVolume()
     {
         return 0.4F;
     }
 
     @Nullable
-    protected ResourceLocation func_184647_J()
+    protected ResourceLocation getLootTable()
     {
-        return LootTableList.field_186399_G;
+        return LootTableList.ENTITIES_COW;
     }
 
-    public boolean func_184645_a(EntityPlayer p_184645_1_, EnumHand p_184645_2_)
+    public boolean processInteract(EntityPlayer player, EnumHand hand)
     {
-        ItemStack itemstack = p_184645_1_.func_184586_b(p_184645_2_);
+        ItemStack itemstack = player.getHeldItem(hand);
 
-        if (itemstack.func_77973_b() == Items.field_151133_ar && !p_184645_1_.field_71075_bZ.field_75098_d && !this.func_70631_g_())
+        if (itemstack.getItem() == Items.BUCKET && !player.capabilities.isCreativeMode && !this.isChild())
         {
-            p_184645_1_.func_184185_a(SoundEvents.field_187564_an, 1.0F, 1.0F);
-            itemstack.func_190918_g(1);
+            // CraftBukkit start - Got milk?
+            Location loc = this.getBukkitEntity().getLocation();
+            PlayerBucketFillEvent event = CraftEventFactory.callPlayerBucketFillEvent(player, loc.getBlockX(), loc.getBlockY(), loc.getBlockZ(), null, itemstack, Items.MILK_BUCKET);
 
-            if (itemstack.func_190926_b())
-            {
-                p_184645_1_.func_184611_a(p_184645_2_, new ItemStack(Items.field_151117_aB));
+            if (event.isCancelled()) {
+                return false;
             }
-            else if (!p_184645_1_.field_71071_by.func_70441_a(new ItemStack(Items.field_151117_aB)))
-            {
-                p_184645_1_.func_71019_a(new ItemStack(Items.field_151117_aB), false);
-            }
 
+            ItemStack result = CraftItemStack.asNMSCopy(event.getItemStack());
+            player.playSound(SoundEvents.ENTITY_COW_MILK, 1.0F, 1.0F);
+            itemstack.shrink(1);
+            if (itemstack.isEmpty()) {
+                player.setHeldItem(hand, result);
+            } else if (!player.inventory.addItemStackToInventory(result)) {
+                player.dropItem(result, false);
+            }
+            // CraftBukkit end
             return true;
         }
         else
         {
-            return super.func_184645_a(p_184645_1_, p_184645_2_);
+            return super.processInteract(player, hand);
         }
     }
 
-    public EntityCow func_90011_a(EntityAgeable p_90011_1_)
+    public EntityCow createChild(EntityAgeable ageable)
     {
-        return new EntityCow(this.field_70170_p);
+        return new EntityCow(this.world);
     }
 
-    public float func_70047_e()
+    public float getEyeHeight()
     {
-        return this.func_70631_g_() ? this.field_70131_O : 1.3F;
+        return this.isChild() ? this.height : 1.3F;
     }
 }
