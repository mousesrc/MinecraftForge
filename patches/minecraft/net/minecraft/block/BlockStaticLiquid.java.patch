--- ../src-base/minecraft/net/minecraft/block/BlockStaticLiquid.java
+++ ../src-work/minecraft/net/minecraft/block/BlockStaticLiquid.java
@@ -7,6 +7,7 @@
 import net.minecraft.util.EnumFacing;
 import net.minecraft.util.math.BlockPos;
 import net.minecraft.world.World;
+import org.bukkit.craftbukkit.event.CraftEventFactory;
 
 public class BlockStaticLiquid extends BlockLiquid
 {
@@ -52,7 +53,7 @@
                     {
                         blockpos = blockpos.func_177982_a(p_180650_4_.nextInt(3) - 1, 1, p_180650_4_.nextInt(3) - 1);
 
-                        if (blockpos.func_177956_o() >= 0 && blockpos.func_177956_o() < 256 && !p_180650_1_.func_175667_e(blockpos))
+                        if (blockpos.func_177956_o() >= 0 && blockpos.func_177956_o() < p_180650_1_.func_72800_K() && !p_180650_1_.func_175667_e(blockpos))
                         {
                             return;
                         }
@@ -63,6 +64,13 @@
                         {
                             if (this.func_176369_e(p_180650_1_, blockpos))
                             {
+                                // CraftBukkit start - Prevent lava putting something on fire
+                                if (p_180650_1_.func_180495_p(blockpos) != Blocks.field_150480_ab) {
+                                    if (CraftEventFactory.callBlockIgniteEvent(p_180650_1_, blockpos.func_177958_n(), blockpos.func_177956_o(), blockpos.func_177952_p(), p_180650_2_.func_177958_n(), p_180650_2_.func_177956_o(), p_180650_2_.func_177952_p()).isCancelled()) {
+                                        continue;
+                                    }
+                                }
+                                // CraftBukkit end
                                 p_180650_1_.func_175656_a(blockpos, Blocks.field_150480_ab.func_176223_P());
                                 return;
                             }
