--- ../src-base/minecraft/net/minecraft/block/BlockSapling.java
+++ ../src-work/minecraft/net/minecraft/block/BlockSapling.java
@@ -1,5 +1,6 @@
 package net.minecraft.block;
 
+import java.util.ArrayList;
 import java.util.Random;
 import net.minecraft.block.properties.IProperty;
 import net.minecraft.block.properties.PropertyEnum;
@@ -27,6 +28,10 @@
 import net.minecraft.world.gen.feature.WorldGenerator;
 import net.minecraftforge.fml.relauncher.Side;
 import net.minecraftforge.fml.relauncher.SideOnly;
+import org.bukkit.Location;
+import org.bukkit.TreeType;
+import org.bukkit.block.BlockState;
+import org.bukkit.event.world.StructureGrowEvent;
 
 public class BlockSapling extends BlockBush implements IGrowable
 {
@@ -74,15 +79,30 @@
             this.func_176476_e(p_176478_1_, p_176478_2_, p_176478_3_, p_176478_4_);
         }
     }
-
+    org.bukkit.TreeType decideTree(BlockPlanks.EnumType treein)
+    {
+        switch (treein)
+        {
+            case OAK: return TreeType.TREE;
+            case BIRCH: return TreeType.BIRCH;
+            case JUNGLE: return TreeType.JUNGLE;
+            case ACACIA: return TreeType.ACACIA;
+            case SPRUCE: return TreeType.BIG_TREE;
+            case DARK_OAK: return TreeType.DARK_OAK;
+            default: return TreeType.TREE;
+        }
+    }
     public void func_176476_e(World p_176476_1_, BlockPos p_176476_2_, IBlockState p_176476_3_, Random p_176476_4_)
     {
+        net.minecraft.block.BlockPlanks.EnumType treetype = (BlockPlanks.EnumType)p_176476_3_.func_177229_b(field_176480_a);
+        new StructureGrowEvent(new Location(p_176476_1_.getWorld(),p_176476_2_.func_177958_n(),p_176476_2_.func_177956_o(),p_176476_2_.func_177952_p()), decideTree(treetype),false,null,new ArrayList<BlockState>());
+        if (!net.minecraftforge.event.terraingen.TerrainGen.saplingGrowTree(p_176476_1_, p_176476_4_, p_176476_2_)) return;
         WorldGenerator worldgenerator = (WorldGenerator)(p_176476_4_.nextInt(10) == 0 ? new WorldGenBigTree(true) : new WorldGenTrees(true));
         int i = 0;
         int j = 0;
         boolean flag = false;
 
-        switch ((BlockPlanks.EnumType)p_176476_3_.func_177229_b(field_176480_a))
+        switch (treetype)
         {
             case SPRUCE:
                 label114:
